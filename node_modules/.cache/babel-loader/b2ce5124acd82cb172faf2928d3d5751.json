{"ast":null,"code":"var _jsxFileName = \"/home/kuba/React-RPG-Engine/src/Choice.js\";\nimport React from 'react';\nimport \"./Choice\";\n\nclass Choice extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: props.text,\n      outcomes: props.outcomes\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.changeState = props.changeState;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.text !== this.props.text) {\n      this.setState({\n        text: this.props.text,\n        outcomes: this.props.outcomes\n      });\n    }\n\n    console.log(\"props changed\");\n  }\n\n  handleClick(e) {\n    let outcome = Math.random();\n\n    for (let i = 0; i < this.state.outcomes.length; i++) {\n      if (outcome < this.state.outcomes[i].probability) {\n        outcome = this.state.outcomes[i].goTo;\n        break;\n      } else {\n        outcome = outcome - this.state.outcomes[i].probability;\n      }\n    }\n\n    this.changeState(outcome);\n  }\n\n  render() {\n    return React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, this.state.text);\n  }\n\n}\n\nexport default Choice;","map":{"version":3,"sources":["/home/kuba/React-RPG-Engine/src/Choice.js"],"names":["React","Choice","Component","constructor","props","state","text","outcomes","handleClick","bind","changeState","componentDidUpdate","prevProps","setState","console","log","e","outcome","Math","random","i","length","probability","goTo","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,UAAP;;AAEA,MAAMC,MAAN,SAAqBD,KAAK,CAACE,SAA3B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,IAAI,EAACF,KAAK,CAACE,IADJ;AAEPC,MAAAA,QAAQ,EAACH,KAAK,CAACG;AAFR,KAAX;AAIA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,WAAL,GAAiBN,KAAK,CAACM,WAAvB;AACH;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAW;AACzB,QAAGA,SAAS,CAACN,IAAV,KAAmB,KAAKF,KAAL,CAAWE,IAAjC,EAAsC;AAClC,WAAKO,QAAL,CAAc;AACVP,QAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IADP;AAEVC,QAAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWG;AAFX,OAAd;AAIH;;AACDO,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH;;AAEDP,EAAAA,WAAW,CAACQ,CAAD,EAAG;AACV,QAAIC,OAAO,GAACC,IAAI,CAACC,MAAL,EAAZ;;AACA,SAAI,IAAIC,CAAC,GAAE,CAAX,EAAaA,CAAC,GAAC,KAAKf,KAAL,CAAWE,QAAX,CAAoBc,MAAnC,EAA0CD,CAAC,EAA3C,EAA8C;AAC1C,UAAGH,OAAO,GAAG,KAAKZ,KAAL,CAAWE,QAAX,CAAoBa,CAApB,EAAuBE,WAApC,EAAgD;AAC5CL,QAAAA,OAAO,GAAG,KAAKZ,KAAL,CAAWE,QAAX,CAAoBa,CAApB,EAAuBG,IAAjC;AACA;AACH,OAHD,MAGK;AACDN,QAAAA,OAAO,GAACA,OAAO,GAAC,KAAKZ,KAAL,CAAWE,QAAX,CAAoBa,CAApB,EAAuBE,WAAvC;AACH;AACJ;;AACD,SAAKZ,WAAL,CAAiBO,OAAjB;AACH;;AAEDO,EAAAA,MAAM,GAAE;AACJ,WACI;AAAQ,MAAA,OAAO,EAAE,KAAKhB,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoC,KAAKH,KAAL,CAAWC,IAA/C,CADJ;AAGH;;AAtC+B;;AAyCpC,eAAeL,MAAf","sourcesContent":["import React from 'react';\r\nimport \"./Choice\";\r\n\r\nclass Choice extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            text:props.text,\r\n            outcomes:props.outcomes\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.changeState=props.changeState;\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.text !== this.props.text){\r\n            this.setState({\r\n                text: this.props.text,\r\n                outcomes: this.props.outcomes\r\n            });\r\n        }\r\n        console.log(\"props changed\")\r\n    }\r\n\r\n    handleClick(e){\r\n        let outcome=Math.random();\r\n        for(let i =0;i<this.state.outcomes.length;i++){\r\n            if(outcome < this.state.outcomes[i].probability){\r\n                outcome = this.state.outcomes[i].goTo;\r\n                break;\r\n            }else{\r\n                outcome=outcome-this.state.outcomes[i].probability;\r\n            }\r\n        }\r\n        this.changeState(outcome);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <button onClick={this.handleClick}>{this.state.text}</button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Choice;"]},"metadata":{},"sourceType":"module"}