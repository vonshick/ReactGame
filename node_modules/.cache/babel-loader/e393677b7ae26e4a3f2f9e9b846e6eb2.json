{"ast":null,"code":"var _jsxFileName = \"/home/kuba/React-RPG-Engine/src/Choice.js\";\nimport React from 'react';\nimport \"./Choice\";\nimport data from './story.json';\n\nclass Choice extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: props.text,\n      outcomes: props.outcomes\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.changeState = props.changeState;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.text !== this.props.text) {\n      this.setState({\n        text: this.props.text,\n        outcomes: this.props.outcomes\n      });\n    }\n\n    console.log(\"props changed\");\n  }\n\n  handleClick(e) {\n    let outcome = Math.random();\n\n    if (outcome < this.state.outcomes[0].probability) {\n      let goToName = this.state.outcomes[0].goTo;\n    } else {\n      let goToName = this.state.outcomes[1].goTo;\n    }\n\n    let goToIndex = 0;\n    var index = data.findIndex(function (item, i) {\n      return item.name === goTo;\n    });\n    this.changeState(outcome);\n  }\n\n  render() {\n    return React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.state.text);\n  }\n\n}\n\nexport default Choice;","map":{"version":3,"sources":["/home/kuba/React-RPG-Engine/src/Choice.js"],"names":["React","data","Choice","Component","constructor","props","state","text","outcomes","handleClick","bind","changeState","componentDidUpdate","prevProps","setState","console","log","e","outcome","Math","random","probability","goToName","goTo","goToIndex","index","findIndex","item","i","name","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,UAAP;AACA,OAAOC,IAAP,MAAiB,cAAjB;;AAEA,MAAMC,MAAN,SAAqBF,KAAK,CAACG,SAA3B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,IAAI,EAACF,KAAK,CAACE,IADJ;AAEPC,MAAAA,QAAQ,EAACH,KAAK,CAACG;AAFR,KAAX;AAIA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,WAAL,GAAiBN,KAAK,CAACM,WAAvB;AACH;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAW;AACzB,QAAGA,SAAS,CAACN,IAAV,KAAmB,KAAKF,KAAL,CAAWE,IAAjC,EAAsC;AAClC,WAAKO,QAAL,CAAc;AACVP,QAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IADP;AAEVC,QAAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWG;AAFX,OAAd;AAIH;;AACDO,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH;;AAEDP,EAAAA,WAAW,CAACQ,CAAD,EAAG;AACV,QAAIC,OAAO,GAAGC,IAAI,CAACC,MAAL,EAAd;;AACA,QAAGF,OAAO,GAAG,KAAKZ,KAAL,CAAWE,QAAX,CAAoB,CAApB,EAAuBa,WAApC,EAAgD;AAC5C,UAAIC,QAAQ,GAAG,KAAKhB,KAAL,CAAWE,QAAX,CAAoB,CAApB,EAAuBe,IAAtC;AACH,KAFD,MAEO;AACH,UAAID,QAAQ,GAAG,KAAKhB,KAAL,CAAWE,QAAX,CAAoB,CAApB,EAAuBe,IAAtC;AACH;;AAED,QAAIC,SAAS,GAAG,CAAhB;AACA,QAAIC,KAAK,GAAGxB,IAAI,CAACyB,SAAL,CAAe,UAASC,IAAT,EAAeC,CAAf,EAAiB;AACxC,aAAOD,IAAI,CAACE,IAAL,KAAcN,IAArB;AACH,KAFW,CAAZ;AAIA,SAAKZ,WAAL,CAAiBO,OAAjB;AACH;;AAEDY,EAAAA,MAAM,GAAE;AACJ,WACI;AAAQ,MAAA,OAAO,EAAE,KAAKrB,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoC,KAAKH,KAAL,CAAWC,IAA/C,CADJ;AAGH;;AAzC+B;;AA4CpC,eAAeL,MAAf","sourcesContent":["import React from 'react';\r\nimport \"./Choice\";\r\nimport data from './story.json';\r\n\r\nclass Choice extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            text:props.text,\r\n            outcomes:props.outcomes\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.changeState=props.changeState;\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.text !== this.props.text){\r\n            this.setState({\r\n                text: this.props.text,\r\n                outcomes: this.props.outcomes\r\n            });\r\n        }\r\n        console.log(\"props changed\")\r\n    }\r\n\r\n    handleClick(e){\r\n        let outcome = Math.random();\r\n        if(outcome < this.state.outcomes[0].probability){\r\n            let goToName = this.state.outcomes[0].goTo;\r\n        } else {\r\n            let goToName = this.state.outcomes[1].goTo;\r\n        }\r\n\r\n        let goToIndex = 0;\r\n        var index = data.findIndex(function(item, i){\r\n            return item.name === goTo\r\n        });\r\n\r\n        this.changeState(outcome);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <button onClick={this.handleClick}>{this.state.text}</button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Choice;"]},"metadata":{},"sourceType":"module"}