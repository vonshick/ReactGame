{"ast":null,"code":"var _jsxFileName = \"/home/kuba/Desktop/ReactGame/src/Choice.js\";\nimport React from 'react';\nimport \"./Choice\";\nimport data from './story.json';\n\nclass Choice extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      character: props.character,\n      outcomes: props.outcomes\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.changeState = props.changeState;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.character !== this.props.character) {\n      this.setState({\n        character: this.props.character,\n        outcomes: this.props.outcomes\n      });\n    }\n  }\n\n  handleClick(e) {\n    let outcome = Math.random();\n    let nextCharacter = '';\n\n    if (outcome < this.state.outcomes[0].probability) {\n      nextCharacter = this.state.outcomes[0].nextCharacter;\n    } else {\n      nextCharacter = this.state.outcomes[1].nextCharacter;\n    }\n\n    let nextCharacterIndex = data.findIndex(function (item, i) {\n      return item.character === nextCharacter;\n    });\n    this.changeState(nextCharacterIndex);\n  }\n\n  render() {\n    return React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.state.character);\n  }\n\n}\n\nexport default Choice;","map":{"version":3,"sources":["/home/kuba/Desktop/ReactGame/src/Choice.js"],"names":["React","data","Choice","Component","constructor","props","state","character","outcomes","handleClick","bind","changeState","componentDidUpdate","prevProps","setState","e","outcome","Math","random","nextCharacter","probability","nextCharacterIndex","findIndex","item","i","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,UAAP;AACA,OAAOC,IAAP,MAAiB,cAAjB;;AAEA,MAAMC,MAAN,SAAqBF,KAAK,CAACG,SAA3B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,SAAS,EAACF,KAAK,CAACE,SADT;AAEPC,MAAAA,QAAQ,EAACH,KAAK,CAACG;AAFR,KAAX;AAIA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,WAAL,GAAiBN,KAAK,CAACM,WAAvB;AACH;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAW;AACzB,QAAGA,SAAS,CAACN,SAAV,KAAwB,KAAKF,KAAL,CAAWE,SAAtC,EAAgD;AAC5C,WAAKO,QAAL,CAAc;AACVP,QAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SADZ;AAEVC,QAAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWG;AAFX,OAAd;AAIH;AACJ;;AAEDC,EAAAA,WAAW,CAACM,CAAD,EAAG;AACV,QAAIC,OAAO,GAAGC,IAAI,CAACC,MAAL,EAAd;AACA,QAAIC,aAAa,GAAG,EAApB;;AAEA,QAAGH,OAAO,GAAG,KAAKV,KAAL,CAAWE,QAAX,CAAoB,CAApB,EAAuBY,WAApC,EAAgD;AAC5CD,MAAAA,aAAa,GAAG,KAAKb,KAAL,CAAWE,QAAX,CAAoB,CAApB,EAAuBW,aAAvC;AACH,KAFD,MAEO;AACHA,MAAAA,aAAa,GAAG,KAAKb,KAAL,CAAWE,QAAX,CAAoB,CAApB,EAAuBW,aAAvC;AACH;;AAED,QAAIE,kBAAkB,GAAGpB,IAAI,CAACqB,SAAL,CAAe,UAASC,IAAT,EAAeC,CAAf,EAAiB;AACrD,aAAOD,IAAI,CAAChB,SAAL,KAAmBY,aAA1B;AACH,KAFwB,CAAzB;AAIA,SAAKR,WAAL,CAAiBU,kBAAjB;AACH;;AAEDI,EAAAA,MAAM,GAAE;AACJ,WACI;AAAQ,MAAA,OAAO,EAAE,KAAKhB,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoC,KAAKH,KAAL,CAAWC,SAA/C,CADJ;AAGH;;AAzC+B;;AA4CpC,eAAeL,MAAf","sourcesContent":["import React from 'react';\r\nimport \"./Choice\";\r\nimport data from './story.json';\r\n\r\nclass Choice extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            character:props.character,\r\n            outcomes:props.outcomes\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.changeState=props.changeState;\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.character !== this.props.character){\r\n            this.setState({\r\n                character: this.props.character,\r\n                outcomes: this.props.outcomes\r\n            });\r\n        }\r\n    }\r\n\r\n    handleClick(e){\r\n        let outcome = Math.random();\r\n        let nextCharacter = '';\r\n        \r\n        if(outcome < this.state.outcomes[0].probability){\r\n            nextCharacter = this.state.outcomes[0].nextCharacter;\r\n        } else {\r\n            nextCharacter = this.state.outcomes[1].nextCharacter;  \r\n        }\r\n\r\n        let nextCharacterIndex = data.findIndex(function(item, i){\r\n            return item.character === nextCharacter\r\n        });\r\n\r\n        this.changeState(nextCharacterIndex);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <button onClick={this.handleClick}>{this.state.character}</button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Choice;"]},"metadata":{},"sourceType":"module"}